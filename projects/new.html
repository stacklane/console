<!--TEMPLATE mustache-->
{{% partial /_partials/_nav/ as nav }}
{{% partial /_layout }}
{{% svg /_icons/ as ic }}

{{% json /projects/_examples as examples}}

{{< layout}}

{{$nav}}

{{/nav}}

{{$content}}

<div class="box is-spacious">

    <div class="has-text-centered">
        <span class="has-text-grey">
            <span class="icon is-medium">{{>ic-git_pull_request}}</span>
        </span>

        <h3 class="title is-3">Create a New Project</h3>

        <p>
            Projects are associated directly with a single GIT repository and
            contain live deployments, domain mappings, and data.
        </p>
    </div>

    <hr>

    <div class="tabs {{#ðŸŽ¨.tabs-boxed}}is-boxed{{/ðŸŽ¨.tabs-boxed}}" data-controller="tabs" data-tabs-remember="repoType">
        <ul>
            <li><a id="example-tab" href="#example"><span class="icon">{{>ic-library_add}}</span>&nbsp;<span>Examples</span></a></li>
            <li><a id="bitbucket-tab" href="#bitbucket"><span class="icon">{{>ic-logo_bitbucket}}</span>&nbsp;<span>Bitbucket</span></a></li>
            <li><a id="github-tab" href="#github"><span class="icon">{{>ic-logo_github}}</span>&nbsp;<span>GitHub</span></a></li>
        </ul>
    </div>

    <div class="tab-content">
        <div class="tab-pane" id="example" aria-labelledby="example-tab">
            <div class="message is-info">
                <div class="message-body">
                    Quickly get started with one of our open source examples.
                </div>
            </div>

            <div class="columns">
                {{#examples as example}}
                <div class="column is-half">
                    <form method="post" action="new" data-controller="form" data-ajax="true">
                        <input type="hidden" name="url" value="{{src}}">
                        <div class="box media">
                            <div class="media-left">
                                <button class="button is-primary" type="submit">Use</button>
                            </div>
                            <div class="media-content">
                                <div>
                                    <p>
                                        <strong>{{title}}</strong> <small></small>
                                        <br>
                                        {{desc}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                {{/examples}}
            </div>
        </div>

        <div class="tab-pane" id="bitbucket" aria-labelledby="bitbucket-tab">
            <div class="message is-info">
                <div class="message-body">
                    TODO
                </div>
            </div>

            <div>

            </div>
        </div>

        <div class="tab-pane" id="github" aria-labelledby="github-tab">
            <div class="message is-info">
                <div class="message-body">
                    First create and initialize a public repository at <a target="_blank" href="https://github.com">github.com</a>.
                    This is where your source code and version history will live.
                    If you don't already have a GitHub.com account, they're completely free.
                </div>
            </div>

            <div>
                <form method="post" action="new"
                      data-controller="form"
                      data-validate="true" data-ajax="true">

                    <div class="field">
                        <label class="label">GitHub Repository URL</label>
                        <div class="control">
                            <input id="github-url" name="url" type="url" required
                                   class="input"
                                   placeholder="https://github.com/your/stacklane-repo.git">
                        </div>
                        <p class="help">
                            This is the URL to your GIT repository which ends in <code>.git</code>.
                            We'll use GitHub's information for the name of your Stacklane Project, however
                            you can always change it later.
                        </p>
                    </div>

                    <hr>

                    <p class="has-text-right">
                        <button class="button is-primary" type="submit">Create Project</button>
                    </p>
                </form>
            </div>
        </div>
    </div>

</div>

{{/content}}
{{/layout}}