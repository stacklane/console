<!--TEMPLATE mustache-->
{{% partial /_partials/_nav/ as nav }}
{{% svg /_icons/ as ic }}
{{% partial /_layout }}

{{% import {project} from 'ðŸ”—' }}
{{% import {GetProjectName, ProjectUser} from 'ðŸ“¤' }}

{{< layout}}

{{$nav}}

{{/nav}}

{{$content}}

<div class="box is-capped"
     data-controller="project"
     data-project-id="{{project.id}}"
    >
    <div class="media">
        <div class="media-left">
            <figure class="image is-48x48">
                <svg width="48" height="48" data-controller="identicon" data-value="{{project.id}}"></svg>
            </figure>
        </div>
        <div class="media-content">
            <h5 class="title is-5">
                <input data-action="change->project#changeTitle" type="text" data-target="project.title"
                       class="is-display is-editable" value="{{GetProjectName project}}" placeholder="Use Default"
                   autocomplete="off" autocorrect="off"
                   autocapitalize="off" spellcheck="false" data-gramm="false"
                >
            </h5>
            <p class="subtitle is-6">{{project.primary.get.source.value}}</p>
        </div>
        <div class="media-right">
            <label class="toggler has-text-warning">
                <input data-target="project.star"
                       data-action="change->project#changeStar"
                       type="checkbox" class="is-filter-tag"
                       {{#ProjectUser.star}}checked{{/ProjectUser.star}}>
                <span class="is-checked tooltip" data-tooltip="Favorite"><span class="tag is-white"><span class="icon">{{>ic-star}}</span></span></span>
                <span class="is-unchecked tooltip" data-tooltip="Favorite"><span class="tag is-white"><span class="icon">{{>ic-star_border}}</span></span></span>
            </label>
            <!-- TODO
            <span class="tag is-white">
                <span class="icon">{{>ic-folder}}</span>
            </span>
            -->
        </div>
    </div>
</div>

<div class="columns">
    <div class="column is-half">
        <a class="box is-block" href="keys/">
            <div class="media">
                <div class="media-left">
                    <span class="icon">{{>ic-key}}</span>
                </div>
                <div class="media-content">
                    <h5 class="title is-5">Keys</h5>
                </div>
            </div>
        </a>
    </div>
    <div class="column is-half">
        <a class="box is-block" href="{{project.primary.get.id}}/domain/">
            <div class="media">
                <div class="media-left">
                    <span class="icon">{{>ic-domain}}</span>
                </div>
                <div class="media-content">
                    <h5 class="title is-5">Domain</h5>
                </div>
            </div>
        </a>
    </div>
</div>

{{/content}}
{{/layout}}
