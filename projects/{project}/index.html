<!--TEMPLATE mustache-->
{{% partial /_partials/_nav/ as nav }}
{{% partial /_partials/_util/ as util }}
{{% svg /_icons/ as ic }}
{{% partial /_layout }}

{{% import {project} from 'ðŸ”—' }}
{{% import {Project} from 'ðŸ“¦'}}
{{% import {GetProjectName, IsProjectStarred} from 'ðŸ“¤' }}

{{% partial /projects/{project}/_project-side }}
{{% partial /projects/{project}/_project-nav }}

{{< layout}}

{{$nav}}
{{> project-nav}}
{{/nav}}

{{$side}}
{{> project-side}}
{{/side}}

{{$content}}

<div data-controller="get" data-get-href="/projects/{{project.id}}/index-check" class="is-loading is-quiet"></div>

<div class="box"
     data-controller="project"
     data-project-id="{{project.id}}"
    >
    <div class="media">
        <div class="media-left">
            <span class="icon is-large">
                {{& project.icon }}
            </span>
        </div>

        <div class="media-content">
            <h5 class="is-size-5 title has-text-weight-semibold"> <!-- was title is-5 -->
                {{GetProjectName project}}
            </h5>
            {{#project.source.external}}
            <h6 class="subtitle">
                <a href="{{project.source.external}}" target="_blank" >
                    <!--span class="icon is-small has-text-link">{{>ic-code}}</span-->
                    <!-- data-tooltip=" @ {{project.source.type}}" -->
                    <div class="tags has-addons">
                        <span class="tag is-light">{{project.source.short}}</span>
                        <span class="tag is-primary">{{project.source.reference}}</span>
                    </div>
                </a>
            </h6>
            {{/project.source.external}}
        </div>

        <div class="media-right">
            <nav class="level is-mobile">
                <div class="level-left">

                    <a class="tooltip level-item" href="copy/" data-tooltip="Copy">
                        <span class="icon has-text-link">{{>ic-copy}}</span>
                    </a>

                    <label class="toggler has-text-warning level-item">
                        <input data-target="project.star"
                               data-action="change->project#changeStar"
                               type="checkbox" class="is-filter-tag"
                               {{#IsProjectStarred project}}checked{{/IsProjectStarred}}>
                        <span class="is-checked tooltip icon " data-tooltip="Favorite">{{>ic-star}}</span>
                        <span class="is-unchecked tooltip icon " data-tooltip="Favorite">{{>ic-star_border}}</span>
                    </label>
                </div>
            </nav>
        </div>
    </div>
</div>

<!--
  TODO children
  -->

{{/content}}
{{/layout}}
