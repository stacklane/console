<!--TEMPLATE mustache-->
{{% partial /_partials/_nav/ as nav }}
{{% svg /_icons/ as ic }}
{{% partial /_layout }}

{{% import {project} from 'ðŸ”—' }}
{{% import {GetProjectName} from 'ðŸ“¤' }}

{{< layout}}

{{$nav}}

{{< nav-link-prev}}
{{$path}}/projects/{{project.id}}/{{/path}}
{{/ nav-link-prev}}

{{/nav}}

{{$content}}

{{% import {ProjectKey} from 'ðŸ“¦' }}

<div class="box is-capped">
    <div class="media">
        <div class="media-left">
            <span class="icon is-medium has-text-grey">
                {{> ic-key}}
            </span>
        </div>
        <div class="media-content">
            <div class="content">
                <h5 class="title is-5">Project Keys</h5>
                <p class="subtitle is-6">
                    <!--Keys are stored in a secure vault and values are used for connecting to services.-->
                    A secure vault for third party API credentials.
                    Code running from within this Project will have access to
                    these keys for third party authentication, but will never
                    be able to expose them publicly.
                </p>
            </div>
        </div>
    </div>
</div>

<div class="columns">
    {{#ProjectKey.all as key}}
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen is-one-quarter-fullhd">
        <div class="box">
            <div class="media">
                <div class="media-content">
                    <h5 class="title is-5">{{key.name}}</h5>
                </div>
                <div class="media-right">
                    <span data-controller="badge" class="badge">{{key.state}}</span>
                    <span class="tag is-info">{{key.type}}</span>
                </div>
            </div>
        </div>
    </div>
    {{/ProjectKey.all}}

    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen is-one-quarter-fullhd">
        <a class="box is-proposed is-hoverable is-block" href="new">
            <div class="media">
                <div class="media-left">
                    <span class="icon has-text-primary">{{> ic-add_circle}}</span>
                </div>
                <div class="media-content">
                    <h5 class="title is-5">Add Project Key</h5>
                </div>
            </div>
        </a>
    </div>
</div>


{{/content}}
{{/layout}}