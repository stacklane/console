<!--TEMPLATE mustache-->

{{% import {VersionSource} from 'ðŸ“¤' }}

<section class="is-stack message is-info">
    <div class="message-body">
        Generates an SSH key for accessing private GIT repositories.
        After clicking 'Generate', you'll need to copy the generated public key.
        Add this public key to the {{VersionSource.type}} UI.
    </div>
</section>

<form method="post" action="new/ssh"
      data-controller="form"
      data-form-validate="true"
      data-form-ajax="true">
    <section class="is-stack">
        <div class="field has-addons has-addons-right">
            <p class="control">
                <a class="button is-static">
                    {{VersionSource.ownerPrefix}}
                </a>
            </p>
            {{!
              This must be mutable, so that SSH keys may be generated for
              private repositories that are referenced/imported by the main project.

              The assumption at the moment is that those imported private repos share the same owner.
              }}
            <p class="control is-expanded">
                <input class="input" type="text" id="sshRepo" name="sshRepo"
                       value="{{VersionSource.repositoryFile}}" required>
            </p>
        </div>
    </section>

    <footer class="is-stack buttons">
        <button class="button is-primary" type="submit">Generate</button>
    </footer>
</form>