<!--TEMPLATE mustache-->
{{% partial /_partials/_nav/ as nav }}
{{% partial /_layout }}
{{% svg /_icons/ as ic }}

{{% json /projects/_examples as examples}}
{{% import {NewProjectForm} from 'ðŸ“¤' }}

{{< layout}}

{{$nav}}
<span class="navbar-item is-nav-title">New Project</span>
{{/nav}}

{{$content}}

{{#NewProjectForm.Begin.valid}}

{{!
  TODO Better message like 'Checking Repository'
  Right now there is no message, only a spinner.
}}
<div class="is-loading" data-controller="get"
     data-get-href="/projects/new-step-fragment?_form={{NewProjectForm.Begin.view.id}}">

</div>

{{/NewProjectForm.Begin.valid}}

{{^NewProjectForm.Begin.valid}}
<div class="message is-danger">
    <div class="message-body">
        Please <a href="/projects/new">start over</a>.
    </div>
</div>
{{/NewProjectForm.Begin.valid}}

{{/content}}
{{/layout}}