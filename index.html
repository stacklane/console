<!--TEMPLATE mustache-->
{{% partial /_partials/nav as nav-item }}
{{% partial /_layout }}
{{% svg /_icons/ as ic }}

{{% import {MyProjects} from 'ðŸ“¤' }}

{{< layout}}

{{$nav}}
<span class="navbar-item is-nav-title">Projects</span>
{{/nav}}

{{$side}}
<div class="is-hidden"
     data-controller="filter"
     data-filter-content="#projects"
     data-filter-empty="#empty"
     data-filter-watch="false">
    <span class="is-filter-display is-first" data-for=":star">
        <span class="icon">{{> ic-star}}</span>
        <span>Favorites</span>
    </span>
    <span class="is-filter-display is-last" data-for="*">
        <span class="icon">{{> ic-select_all}}</span>
        <span>All Projects</span>
    </span>
</div>
{{/side}}

{{$content}}

<div id="projects" class="columns is-multiline">
    {{#MyProjects as item}}
    <div class="column is-filterable is-hiding-ready is-hidden is-half-tablet is-half-desktop is-one-third-widescreen is-one-third-fullhd">
        {{#item.tags}}
        <span class="is-filter-tag is-hidden">{{this}}</span>
        {{/item.tags}}

        <div class="box-card is-hoverable"
             data-controller="project"
             data-project-id="{{item.project.id}}"
                >
            <a class="box-card-content" href="/projects/{{item.project.id}}/">
                <div class="media">
                    <div class="media-left">
                        <span class="icon is-block">
                            <svg width="32" height="32" data-controller="identicon" data-value="{{item.project.id}}"></svg>
                        </span>
                    </div>
                    <div class="media-content">
                        <h5 class="title is-5">{{item.name}}</h5>
                    </div>
                </div>
            </a>
            <div class="box-card-right">
                <label class="toggler has-text-warning">
                    <input data-target="project.star" data-action="change->project#changeStar"
                           type="checkbox" class="is-filter-tag"
                           data-filter-tag-value=":star"
                           {{#item.star}}checked{{/item.star}}>
                    <span class="icon is-checked tooltip" data-tooltip="Favorite">{{>ic-star}}</span>
                    <span class="icon is-unchecked tooltip" data-tooltip="Favorite">{{>ic-star_border}}</span>
                </label>
            </div>
        </div>
    </div>
    {{/MyProjects}}

    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen is-one-third-fullhd">
        <a class="box is-proposed is-hoverable is-block" href="/projects/new">
            <div class="media">
                <div class="media-left">
                    <span class="icon is-block has-text-primary">{{> ic-add_circle}}</span>
                </div>
                <div class="media-content">
                    <h5 class="title is-5">Add Project</h5>
                </div>
            </div>
        </a>
    </div>
</div>

<div id="empty" class="box is-spacious is-hidden">
    <div class="has-text-centered">
            <span class="has-text-grey">
                <!-- sl -->
                <span class="icon is-medium">
                <svg width="100%" height="100%" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M14.032,9.034l0.226,0.948c0.094,0.372 0.163,0.755 0.208,1.142c0.058,0.466 0.071,0.942 0.048,1.418l10.154,0l0,-6.675l-10.905,0c-0.071,1.041 0.042,2.123 0.269,3.167" ></path><path d="M11.434,10.528l-0.146,-0.99c-0.162,-1.221 -0.192,-2.454 -0.035,-3.672l-11.253,0l0,6.668l11.375,0c0.079,-0.388 0.131,-0.785 0.122,-1.199c-0.004,-0.266 -0.022,-0.535 -0.063,-0.807"></path><path d="M4.732,20.606c0.856,-0.554 1.756,-1.225 2.635,-2.052c0.877,-0.823 1.732,-1.82 2.432,-3.018c0.247,-0.419 0.466,-0.869 0.67,-1.335l-10.469,0l0,8.623c0.13,-0.04 0.266,-0.085 0.413,-0.137c1.059,-0.385 2.607,-0.959 4.319,-2.081"></path><path d="M9.62,23.546c-0.262,0.323 -0.524,0.629 -0.786,0.922l15.758,0l0,-10.258l-10.511,0c-0.343,1.76 -0.905,3.379 -1.56,4.757c-0.879,1.841 -1.896,3.322 -2.901,4.579" ></path><path d="M14.357,1.57c0.503,-0.28 1.017,-0.538 1.56,-0.745c0.968,-0.386 1.971,-0.64 2.925,-0.825l-18.842,0l0,4.124l11.732,0c0.304,-0.569 0.715,-1.11 1.266,-1.581c0.398,-0.364 0.882,-0.678 1.359,-0.973" ></path><path d="M19.613,1.357c-0.885,0.175 -1.815,0.414 -2.657,0.761c-0.845,0.343 -1.63,0.776 -2.172,1.312c-0.259,0.241 -0.459,0.504 -0.619,0.777l10.502,0l0,-3.152c-0.168,-0.014 -0.348,-0.025 -0.552,-0.032c-1.083,-0.041 -2.715,-0.013 -4.502,0.334" ></path></svg>
                </span>
            </span>

        <h3 class="title is-3">Welcome to Stacklane!</h3>

        <p>
            Stacklane organizes everything into Projects.
            Projects are associated with your live and test instances, data, domain mappings,
            and billing.
            <br>
            <a href="/projects/new">Create your first Project now</a>.
        </p>
    </div>
</div>

{{/content}}
{{/layout}}