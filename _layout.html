<!--TEMPLATE mustache-->
<!DOCTYPE html>
<html>
<head>
    <title>{{ðŸŽ¨.name}}</title>
    <!-- {{$title}}{{/title}} -->

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="/style/theme.scss">

    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />

    <!--
        Warning: keep these versions in sync with prefetch in /auth/_prefetch.html
     -->
    <script defer src="https://cdn.jsdelivr.net/npm/turbolinks@5.1.1/dist/turbolinks.js" integrity="sha256-L06fzo/4G4oD7dGuNySdAWCxTFN2wkj0GrFTnWKdKBo=" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/stimulus@1.1.0/dist/stimulus.umd.js" integrity="sha256-4KV/iy8MHfeAUz3QV4sEhCoK4eT54AH1YxhvmN08h6s=" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/jdenticon@2.1.0/dist/jdenticon.min.js"></script>
    <script defer src="https://js.stripe.com/v3/"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/prismjs@1.8.1/themes/prism.min.css,npm/prismjs@1.8.1/plugins/line-highlight/prism-line-highlight.min.css">
    <script defer async src="https://cdn.jsdelivr.net/combine/npm/prismjs@1.15.0,npm/prismjs@1.15.0/plugins/line-highlight/prism-line-highlight.min.js,npm/prismjs@1.15.0/components/prism-yaml.min.js"></script>

    <!--
        HTTP/2 plus CDN should take care of loading these efficiently.
        No need for turbolinks-track, because URLs will change as resources changes.
    -->
    <script defer src="/js/app/init.js"></script>
    <script defer src="/js/app/format.js"></script>
    <script defer src="/js/app/get.js"></script>
    <script defer src="/js/app/progress.js"></script>
    <script defer src="/js/app/message.js"></script>
    <script defer src="/js/app/form.js"></script>
    <script defer src="/js/app/tabs.js"></script>
    <script defer src="/js/app/badge.js"></script>
    <script defer src="/js/app/identicon.js"></script>
    <script defer src="/js/app/filter.js"></script>
    <script defer src="/js/app/reflect-input-color.js"></script>
    <script defer src="/js/app/stripe-card.js"></script>

    <script defer src="/js/project.js"></script>
    <script defer src="/js/builder.js"></script>

    {{% import {Me} from 'ðŸ‘¤' }}
    {{% svg /_icons/ as ic }}
</head>

<body>
<header>
    <nav class="navbar is-transparent" role="navigation" aria-label="main navigation">
        <!--<div class="container">-->

            <div class="navbar-brand">
                <a href="/" class="navbar-item is-special"><span class="icon is-icon-ui">{{>ic-dashboard}}</span></a>
            </div>

            <div class="navbar-menu">
                <div class="navbar-start">
                    {{$nav}}{{/nav}}
                </div>

                <div class="navbar-end">
                    <!-- TODO status: use stimulus to update color class + data-tooltip based on actual status check -->
                    <a href="https://stacklane.com/status/" class="navbar-item tooltip is-tooltip-bottom" data-tooltip="Fully Operational"><span class="icon is-small has-text-success">{{>ic-adjust}}</span></a>

                    <a href="https://stacklane.com/docs/" class="navbar-item tooltip is-tooltip-bottom" data-tooltip="Documentation"><span class="icon is-icon-ui">{{>ic-books}}</span></a>

                    <div class="navbar-item has-dropdown"> <!--has-dropdown is-hoverable-->
                        <a class="navbar-link is-arrowless">
                            <span class="icon is-icon-ui">{{>ic-account_circle}}</span>
                        </a>

                        <div class="navbar-dropdown is-boxed is-right">
                                <span class="navbar-item">
                                    {{ðŸŽ¨.logged-in-as Me.name}}
                                </span>
                            <hr class="navbar-divider">
                            <form method="post" data-controller="form" action="/__/auth/provider/logout">
                                <a href="#" class="navbar-item" data-action="form#submit">Sign Out</a>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
       <!-- </div> -->
    </nav>
</header>
<main role="main">
<div class="columns">
    <div id="sidebar" class="column">
        <ul>
        {{$side}}{{/side}}
        </ul>
    </div>

    <div class="column">
        {{$content}}Content{{/content}}
    </div>
</div>
</main>
</body>
</html>